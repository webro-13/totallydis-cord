<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width" >
    <title>Totally Discord Â· Show Me ðŸ¤–</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="../style.css" rel="stylesheet" />
</head>
<body>
    <h1>Show Me</h1>
    <p>This bot posts to the "Stream Room" Voice channel</p>
    <input style="margin: 5px;" placeholder="Username" id="use" />
    <textarea style="margin: 5px;" rows="5" cols="30" id="mess" placeholder="message" ></textarea>
    <button style="margin: 5px;" onclick="hello()" title="send" class="btn btn-primary" >Send</button>
    <script>
        function hello() {
    var inputName = document.getElementById('use').value;
    var inputMess = document.getElementById('mess').value;
    var messsage = "**" + inputName + ":** " + inputMess

    
        const webhookURL = "https://discord.com/api/webhooks/1354440286583001198/wfGrGIhYhoJmmqvyGv6Z2v8UJbCBfmyfkKge1z5FxR7nhyjc57l73yjDeZDkhXXvYiEj";
        const message = messsage;
        const data = {
          content: message
        };
       if (inputName != "" && inputMess != ""){
        fetch(webhookURL, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        })
        .then(response => {
          console.log("Message sent to Discord!", response);
          window.location.reload();
        })
        .catch(error => {
          console.error("Error sending message:", error);
          window.location.reload();
        });
    // reload the current page

}else{
            alert("cannot send null");
        }
}
    </script>
</body>
</html>